!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Cotton=t()}(this,(function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o={data:{mouseX:null,mouseY:null,x:null,y:null,dx:null,dy:null,animationFrame:void 0},speed:.125,cottonActiveClass:"cotton-active",models:".cotton-model",modelsActiveClass:"model-active",on:{modelEnter:null,modelLeave:null}};this.element=document.querySelector(e),this.params=Object.assign({},o,n),this.models=document.querySelectorAll(this.params.models),this.init()}var n,o,a;return n=t,a=[{key:"getElementWidth",value:function(e){return e.getBoundingClientRect().width}},{key:"getElementHeight",value:function(e){return e.getBoundingClientRect().height}},{key:"bindModelCallback",value:function(e){var t=e.element,n=e.models,o=e.params;n.forEach((function(n){n.isBound||(n.isBound=!0,n.addEventListener("mouseenter",(function(){o.on.modelEnter&&"function"==typeof o.on.modelEnter&&o.on.modelEnter.call(e,t,this),t.classList.add(o.cottonActiveClass.replace(".","")),this.classList.add(o.modelsActiveClass.replace(".",""))})),n.addEventListener("mouseleave",(function(){o.on.modelLeave&&"function"==typeof o.on.modelLeave&&o.on.modelLeave.call(e,t,this),t.classList.remove(o.cottonActiveClass.replace(".","")),this.classList.remove(o.modelsActiveClass.replace(".",""))})))}))}}],(o=[{key:"init",value:function(){return this.element?this.params.speed>1||this.params.speed<=0?console.error("The speed property must be > 0 or <= 1"):(this.move(),void t.bindModelCallback(this)):console.error("This element is not defined")}},{key:"move",value:function(){var e=this.element,n=this.params,o=n.data;document.addEventListener("mousemove",(function(e){o.mouseX=e.clientX||e.pageX,o.mouseY=e.clientY||e.pageY})),o.animationFrame||function a(){o.x&&o.y?(o.dx=(o.mouseX-o.x)*n.speed,o.dy=(o.mouseY-o.y)*n.speed,Math.abs(o.dx)+Math.abs(o.dy)<.1?(o.x=o.mouseX,o.y=o.mouseY):(o.x+=o.dx,o.y+=o.dy)):(o.x=o.mouseX,o.y=o.mouseY),o.animationFrame=requestAnimationFrame(a),e.style.top="".concat(o.y,"px"),e.style.left="".concat(o.x,"px"),e.style.position="absolute",e.style.marginLeft="".concat(-t.getElementWidth(e)/2,"px"),e.style.marginTop="".concat(-t.getElementHeight(e)/2,"px")}()}},{key:"stop",value:function(){var e=this.params.data;cancelAnimationFrame(e.animationFrame),e.animationFrame=void 0}},{key:"updateModel",value:function(){this.models=document.querySelectorAll(this.params.models),t.bindModelCallback(this)}}])&&e(n.prototype,o),a&&e(n,a),t}()}));
